- grouped_select = [['Africa',[['Algeria', 'DZ'], ['Angola', 'AO'], ['Benin', 'BJ'], ['Botswana', 'BW'], ['Burkina Faso', 'BF'], ['Burundi', 'BI'], ['Cameroon', 'CM'], ['Cape Verde', 'CV'], ['Central African Republic', 'CF'], ['Chad', 'TD'], ['Comoros', 'KM'], ['Congo - Brazzaville', 'CG'], ['Congo - Kinshasa', 'CD'], ['Côte d’Ivoire', 'CI'], ['Djibouti', 'DJ'], ['Egypt', 'EG'], ['Equatorial Guinea', 'GQ'], ['Eritrea', 'ER'], ['Ethiopia', 'ET'], ['Gabon', 'GA'], ['Gambia', 'GM'], ['Ghana', 'GH'], ['Guinea', 'GN'], ['Guinea-Bissau', 'GW'], ['Kenya', 'KE'], ['Lesotho', 'LS'], ['Liberia', 'LR'], ['Libya', 'LY'], ['Madagascar', 'MG'], ['Malawi', 'MW'], ['Mali', 'ML'], ['Mauritania', 'MR'], ['Mauritius', 'MU'], ['Mayotte', 'YT'], ['Morocco', 'MA'], ['Mozambique', 'MZ'], ['Namibia', 'NA'], ['Niger', 'NE'], ['Nigeria', 'NG'], ['Rwanda', 'RW'], ['Réunion', 'RE'], ['Saint Helena', 'SH'], ['Senegal', 'SN'], ['Seychelles', 'SC'], ['Sierra Leone', 'SL'], ['Somalia', 'SO'], ['South Africa', 'ZA'], ['Sudan', 'SD'], ['Swaziland', 'SZ'], ['São Tomé and Príncipe', 'ST'], ['Tanzania', 'TZ'], ['Togo', 'TG'], ['Tunisia', 'TN'], ['Uganda', 'UG'], ['Western Sahara', 'EH'], ['Zambia', 'ZM'], ['Zimbabwe', 'ZW'],]],['Americas',[['Anguilla', 'AI'], ['Antigua and Barbuda', 'AG'], ['Argentina', 'AR'], ['Aruba', 'AW'], ['Bahamas', 'BS'], ['Barbados', 'BB'], ['Belize', 'BZ'], ['Bermuda', 'BM'], ['Bolivia', 'BO'], ['Brazil', 'BR'], ['British Virgin Islands', 'VG'], ['Canada', 'CA'], ['Cayman Islands', 'KY'], ['Chile', 'CL'], ['Colombia', 'CO'], ['Costa Rica', 'CR'], ['Cuba', 'CU'], ['Dominica', 'DM'], ['Dominican Republic', 'DO'], ['Ecuador', 'EC'], ['El Salvador', 'SV'], ['Falkland Islands', 'FK'], ['French Guiana', 'GF'], ['Greenland', 'GL'], ['Grenada', 'GD'], ['Guadeloupe', 'GP'], ['Guatemala', 'GT'], ['Guyana', 'GY'], ['Haiti', 'HT'], ['Honduras', 'HN'], ['Jamaica', 'JM'], ['Martinique', 'MQ'], ['Mexico', 'MX'], ['Montserrat', 'MS'], ['Netherlands Antilles', 'AN'], ['Nicaragua', 'NI'], ['Panama', 'PA'], ['Paraguay', 'PY'], ['Peru', 'PE'], ['Puerto Rico', 'PR'], ['Saint Barthélemy', 'BL'], ['Saint Kitts and Nevis', 'KN'], ['Saint Lucia', 'LC'], ['Saint Martin', 'MF'], ['Saint Pierre and Miquelon', 'PM'], ['Saint Vincent and the Grenadines', 'VC'], ['Suriname', 'SR'], ['Trinidad and Tobago', 'TT'], ['Turks and Caicos Islands', 'TC'], ['U.S. Virgin Islands', 'VI'], ['United States', 'US'], ['Uruguay', 'UY'], ['Venezuela', 'VE'],]],['Asia',[['Afghanistan', 'AF'], ['Armenia', 'AM'], ['Azerbaijan', 'AZ'], ['Bahrain', 'BH'], ['Bangladesh', 'BD'], ['Bhutan', 'BT'], ['Brunei', 'BN'], ['Cambodia', 'KH'], ['China', 'CN'], ['Cyprus', 'CY'], ['Georgia', 'GE'], ['Hong Kong SAR China">Hong Kong SAR China', 'HK'], ['India', 'IN'], ['Indonesia', 'ID'], ['Iran', 'IR'], ['Iraq', 'IQ'], ['Israel', 'IL'], ['Japan', 'JP'], ['Jordan', 'JO'], ['Kazakhstan', 'KZ'], ['Kuwait', 'KW'], ['Kyrgyzstan', 'KG'], ['Laos', 'LA'], ['Lebanon', 'LB'], ['Macau SAR China', 'MO'], ['Malaysia', 'MY'], ['Maldives', 'MV'], ['Mongolia', 'MN'], ['Myanmar (Burma)', 'MM'], ['Nepal', 'NP'], ['Neutral Zone', 'NT'], ['North Korea', 'KP'], ['Oman', 'OM'], ['Pakistan', 'PK'], ['Palestinian Territories', 'PS'], ['People\'s Democratic Republic of Yemen', 'YD'], ['Philippines', 'PH'], ['Qatar', 'QA'], ['Saudi Arabia', 'SA'], ['Singapore', 'SG'], ['South Korea', 'KR'], ['Sri Lanka', 'LK'], ['Syria', 'SY'], ['Taiwan', 'TW'], ['Tajikistan', 'TJ'], ['Thailand', 'TH'], ['Timor-Leste', 'TL'], ['Turkey', 'TR'], ['Turkmenistan', 'TM'], ['United Arab Emirates', 'AE'], ['Uzbekistan', 'UZ'], ['Vietnam', 'VN'], ['Yemen', 'YE'],]],['Europe',[['Albania', 'AL'], ['Andorra', 'AD'], ['Austria', 'AT'], ['Belarus', 'BY'], ['Belgium', 'BE'], ['Bosnia and Herzegovina', 'BA'], ['Bulgaria', 'BG'], ['Croatia', 'HR'], ['Cyprus', 'CY'], ['Czech Republic', 'CZ'], ['Denmark', 'DK'], ['East Germany', 'DD'], ['Estonia', 'EE'], ['Faroe Islands', 'FO'], ['Finland', 'FI'], ['France', 'FR'], ['Germany', 'DE'], ['Gibraltar', 'GI'], ['Greece', 'GR'], ['Guernsey', 'GG'], ['Hungary', 'HU'], ['Iceland', 'IS'], ['Ireland', 'IE'], ['Isle of Man', 'IM'], ['Italy', 'IT'], ['Jersey', 'JE'], ['Latvia', 'LV'], ['Liechtenstein', 'LI'], ['Lithuania', 'LT'], ['Luxembourg', 'LU'], ['Macedonia', 'MK'], ['Malta', 'MT'], ['Metropolitan France', 'FX'], ['Moldova', 'MD'], ['Monaco', 'MC'], ['Montenegro', 'ME'], ['Netherlands', 'NL'], ['Norway', 'NO'], ['Poland', 'PL'], ['Portugal', 'PT'], ['Romania', 'RO'], ['Russia', 'RU'], ['San Marino', 'SM'], ['Serbia', 'RS'], ['Serbia and Montenegro', 'CS'], ['Slovakia', 'SK'], ['Slovenia', 'SI'], ['Spain', 'ES'], ['Svalbard and Jan Mayen', 'SJ'], ['Sweden', 'SE'], ['Switzerland', 'CH'], ['Ukraine', 'UA'], ['Union of Soviet Socialist Republics', 'SU'], ['United Kingdom', 'GB'], ['Vatican City', 'VA'], ['Åland Islands', 'AX'],]],['Oceania',[['American Samoa', 'AS'], ['Antarctica', 'AQ'], ['Australia', 'AU'], ['Bouvet Island', 'BV'], ['British Indian Ocean Territory', 'IO'], ['Christmas Island', 'CX'], ['Cocos (Keeling) Islands', 'CC'], ['Cook Islands', 'CK'], ['Fiji', 'FJ'], ['French Polynesia', 'PF'], ['French Southern Territories', 'TF'], ['Guam', 'GU'], ['Heard Island and McDonald Islands', 'HM'], ['Kiribati', 'KI'], ['Marshall Islands', 'MH'], ['Micronesia', 'FM'], ['Nauru', 'NR'], ['New Caledonia', 'NC'], ['New Zealand', 'NZ'], ['Niue', 'NU'], ['Norfolk Island', 'NF'], ['Northern Mariana Islands', 'MP'], ['Palau', 'PW'], ['Papua New Guinea', 'PG'], ['Pitcairn Islands', 'PN'], ['Samoa', 'WS'], ['Solomon Islands', 'SB'], ['South Georgia and the South Sandwich Islands', 'GS'], ['Tokelau', 'TK'], ['Tonga', 'TO'], ['Tuvalu', 'TV'], ['U.S. Minor Outlying Islands', 'UM'], ['Vanuatu', 'VU'], ['Wallis and Futuna', 'WF'],]]]

= f.label attribute, 'Country you live in'
= f.select attribute, grouped_options_for_select(grouped_select, (f.object.send(attribute) || 'GB')), class: f.object.errors[attribute].present? ? 'invalid' : nil
